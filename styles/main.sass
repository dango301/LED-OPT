@import "vars"

*
    margin: 0
    padding: 0
    text-decoration: none
    background: transparent
    color: white
    font-family: 'Montserrat', 'Noto Serif', 'Arial'
    list-style-type: none
    font-size: 15px //FIXME: maybe make this rem or em ???
    font-style: normal
    font-weight: 500

body
    background: $bg
    hyphens: auto
    position: relative
html
    scroll-behavior: smooth
    scroll-snap-type: y proximity
    scroll-padding-top: $navHeight

::selection
    background: rgba(56, 56, 56, 0.6)
    @include elevationShadow(1.5)

header
    height: $navHeight
    position: fixed
    width: 100%
    top: 0
    left: 0
    z-index: 999
    display: grid
    grid-template-columns: 1fr 2fr
    background: $bg
    padding: 0
    box-shadow: 0px 1px 3px black

    nav
        height: $navHeight

    .logo
        margin: 2.5px 15px
        display: flex
        align-items: center
        height: 40px

        a:first-child
            width: 40px
            img
                width: 40px
                height: 40px
                @include logoPulse()
        a:last-child
            transform: translateX(-1px)
            font-weight: 900
            font-style: normal
            font-size: 18px
            line-height: 15px
            width: 40px

    ul
        height: $navHeight
        display: flex
        justify-content: space-around
        align-items: center

        a
            font-family: 'Noto Serif', 'Times New Roman'
            font-style: italic
            font-size: 15px
            font-weight: 500
            text-shadow: none
            transition: color 0.25s ease-out
            @include navLinks()
            &.active
                font-weight: 900

aside.download
    position: fixed
    z-index: 996
    top: 50vh
    right: 0
    transform: rotate(-90deg) scale(.95)
    transform-origin: bottom right
    background: rgba(black, .8)
    display: flex
    align-items: center
    padding: 5px 17.5px
    border-radius: 8px 8px 0 0
    box-shadow: -2px -1px 3.5px rgba(black, .66)

    a
        transition: padding ease-in-out .33s
        &:last-child
            font-variant: small-caps
            font-weight: 700
            font-style: italic
            font-size: 14px
            margin-left: 7.5px
    img
        transform: rotate(90deg) translateX(2px)
        width: 18px
        height: 18px
    &:hover a
        padding-bottom: 15px

.page-transition
    position: fixed
    z-index: 998
    width: 100%
    height: 100vh
    background: white
    top: %$navHeight

    &.left
        left: -100%
    &.right
        right: 100%

.modal
    background: rgba(#000, .85) //TODO: radial gradient
    position: fixed
    z-index: 997
    top: $navHeight
    left: 0
    width: 100%
    height: calc(100vh - 45px - 2 * 30px)
    padding: 30px
    display: grid
    grid-template-columns: auto
    grid-template-rows: auto repeat(2, min-content)
    opacity: 0
    transition: opacity ease-in-out .45s
    pointer-events: none
    &, *:not(a)
        cursor: crosshair
    &.show
        opacity: 1
        pointer-events: all

    .img-container //FIXME: make img width & height as samll as possible so modal does not close when clicked on img
        width: calc(100% - 2 * 30px)
        overflow: hidden
        img
            width: 100%
            height: 100%
            object-fit: contain
    h4
        text-align: center
        font-family: 'Noto Serif', 'Times New Roman'
        font-weight: 900
        font-size: 18px
        margin: 10px 0
    a
        width: fit-content
        margin: 0 auto
        font-size: 10px
        &:before
            content: 'Bildquelle: '
            font-weight: 900
            text-decoration: underline

@keyframes bannerScale
    0%
        transform: scale(.75)
        opacity: 0
    100%
        transform: scale(1)
        opacity: 1

.banner //TODO: try to scale bg image on hover & load
    display: flex
    align-items: center
    justify-content: space-around
    flex-direction: column
    padding: 50px 40px
    scroll-snap-align: start

    h1
        font-family: 'Noto Serif', 'Times New Roman'
        font-size: 27.5px
        font-weight: 700
        margin: 15px
        text-align: center
    p
        max-width: 850px
        margin-bottom: 15px
        text-align: justify
        text-align-last: center
        transform: scale(1)
        transition: transform 0.25s ease-in-out
    &:hover p
        transform: scale(1.02)
    *
        animation: .75s ease-in-out 0s 1 bannerScale
    &:not(.landing)
        margin-top: $navHeight

main .container // aside is nested in here
    display: flex
    flex-direction: row
    align-items: stretch
    position: relative
    z-Index: 2
    box-shadow: 1px 1.5px 5px black, 0px -1.5px 5px black

    @mixin expandTransition($prop: all)
        transition: $prop .45s cubic-bezier(.56,.36,.37,1.26)

    aside.content
        position: relative
        box-shadow: 1px 0px 3px black
        width: 150px
        overflow: hidden
        @include expandTransition()

        .table-of-contents
            position: absolute
            top: 0
            padding: 25px
            margin-bottom: 25px

            a.top
                padding: 7.5px 12.5px
                font-weight: 700
                font-size: 15px
                @include navLinks(true, $secondaryColor)
            a.top
                position: absolute
                top: 0
                left: 0
                color: white
                &:before
                    content: 'ðŸ¢™'
                    margin-right: 1.5px
                &:hover
                    color: $secondaryColor

            h4
                font-family: 'Noto Serif', 'Times New Roman'
                font-style: italic
                margin: 25px 0
                font-size: 25px
                line-height: 25px
                font-weight: 500
                @include elevationShadow(1.1)

            li
                margin: 12px 0
                position: relative

                &:before
                    content: ''
                    position: absolute
                    z-index: 2
                    width: 100%
                    right: 0
                    transform: translateX(0%)
                    height: 14px
                    transition: border ease-in-out .4s
                    border: 2px solid $secondaryColor
                    border-radius: 16px
                    background: $secondaryColor
                    @include expandTransition()
                &.active:before
                    border: 2px solid white
                a
                    font-size: 0
                    white-space: nowrap
                    overflow: hidden
                    line-height: 8px
                    font-weight: 500
                    @include elevationShadow(1)
                    @include navLinks(false)
                    @include expandTransition()

        &:hover
            width: 27.5vw
            li
                &:before, &.active:before
                    width: 0
                    border: 0px solid $secondaryColor
                a
                    font-size: 16px
                    white-space: normal

    article
        flex: 1
        @include expandTransition()

section
    scroll-snap-align: start
    padding: 25px 45px
    text-align: justify
    overflow: auto // handles vertical float elements not hanging over section

    *
        color: black
        &::selection
            background: rgba(200, 200, 200, 0.15)
            text-shadow: -.75px .5px 2px #999

    h2
        text-align: left
        font-size: 30px
        font-weight: 900
        margin: 10px 25px
    h3
        font-size: 16px
        margin: 30px 0 5px 0
        font-weight: 900
        &:before
            content: 'âž¤ '
    p
        max-width: 800px
        margin-bottom: 15px
        line-height: 22px
    &>p:first-of-type:first-letter
        color: $primaryColor
        font-family: 'Noto Serif'
        margin-right: 1px
        font-weight: 900
        font-size: 42px
        line-height: 44px
        float: left
    a
        text-decoration: underline
        color: $secondaryColor

    &:nth-child(even)
        background: #FEFEFE
    &:nth-child(odd)
        background: #EFF0F4

    #weiterlesen
        display: flex
        justify-content: left
        flex-wrap: wrap
        @include banner('circuit', .4, .75, center)

        a
            // background: $secondaryColor
            // padding: 10px 15px
            // border-radius: 12px
            margin: 10px
            color: white
            padding: 10px 40px
            font-weight: 600
            box-shadow: 1px 1px 2px black
            border: 2px solid white
            border-radius: 3px
            background: rgba(black, 0.33)
            transition: background 0.25s ease-out
            &:hover
                cursor: pointer
                background: rgba(white, 0.1)

figure
    float: right
    display: grid
    grid-template-rows: auto auto
    transition: width ease-in .1s
    margin: 20px 0 20px 20px

    .img-container
        width: inherit
        height: inherit
        object-fit: contain
        overflow: hidden
        img
            transform: scale(1)
            transition: transform ease-out .35s
            width: 100%
            height: 100%

    &:hover
        cursor: pointer
        .img-container img
            transform: scale(1.05)

    figcaption
        font-family: 'Noto Serif', 'Times New Roman'
        text-align: justify
        text-align-last: center
        padding: 3px 12px 0 12px

footer
    scroll-snap-align: start
    background: #0a0a0a
    padding: 45px 30px
    display: grid
    grid-template-areas: 'logo logo' 'share nav' 'github nav'
    grid-template-columns: 1fr 5fr
    grid-template-rows: auto

    &>*
        margin: 15px 25px

    .logo
        grid-area: logo
        display: flex
        align-items: center
        height: 40px

        a:first-child
            width: 40px
            img
                width: 40px
                height: 40px
                @include logoPulse()
        a:last-child
            transform: translateX(-1px)
            font-weight: 900
            font-style: normal
            font-size: 18px
            line-height: 15px
            width: 40px

    .share
        grid-area: share
        display: flex
        flex-direction: rows
        justify-content: space-evenly

    .github
        grid-area: github
        display: flex
        flex-wrap: wrap
        align-items: center
        height: min-content
        @include navLinks(false)

        h4
            width: min-content
            height: min-content
            font-family: 'Noto Serif', 'Times New Roman'
            color: white
            font-style: italic
            font-size: 14px
        img
            width: 40px
            height: 40px
            margin: 5px 15px
            transform: scale(1)
            transition: all ease-in-out .33s
        &:hover img
            transform: scale(1.12)

    nav
        grid-area: nav
        display: flex
        flex-wrap: wrap
        margin-left: 0

        .column
            min-width: 200px
            margin: 30px
            margin-top: 0
            flex: 1

            h3
                margin-bottom: 10px
                a
                    font-family: 'Noto Serif', 'Times New Roman'
                    font-weight: 700
                    color: $primaryColor
                    font-size: 18px
                    @include navLinks(true)

            ul
                flex: 1
                display: flex
                flex-direction: column
                // justify-content: space-evenly

                li
                    margin: 3px 0
                    a
                        @include navLinks(false)
